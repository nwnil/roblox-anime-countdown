"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"8f1208eb5ee9\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nbG9iYWxzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYXJtYW5cXERvd25sb2Fkc1xccm9ibG94LWFuaW1lLWNvdW50ZG93blxcYXBwXFxnbG9iYWxzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjhmMTIwOGViNWVlOVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/supabase-service.ts":
/*!*********************************!*\
  !*** ./lib/supabase-service.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appGameToDbGame: () => (/* binding */ appGameToDbGame),\n/* harmony export */   authService: () => (/* binding */ authService),\n/* harmony export */   dbGameToAppGame: () => (/* binding */ dbGameToAppGame),\n/* harmony export */   gameService: () => (/* binding */ gameService),\n/* harmony export */   notificationService: () => (/* binding */ notificationService),\n/* harmony export */   userService: () => (/* binding */ userService)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n\n// Game-related functions\nconst gameService = {\n    // Get all games\n    async getAllGames () {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('games').select('*').order('release_date', {\n            ascending: true\n        });\n        if (error) throw error;\n        return data || [];\n    },\n    // Get games by status\n    async getGamesByStatus (status) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('games').select('*').eq('status', status).order('release_date', {\n            ascending: true\n        });\n        if (error) throw error;\n        return data || [];\n    },\n    // Get games by anime style\n    async getGamesByAnimeStyle (animeStyle) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('games').select('*').eq('anime_style', animeStyle).order('release_date', {\n            ascending: true\n        });\n        if (error) throw error;\n        return data || [];\n    },\n    // Add a new game (admin function)\n    async addGame (game) {\n        console.log('Supabase addGame called with:', game);\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('games').insert([\n            game\n        ]).select().single();\n        if (error) {\n            console.error('Supabase error details:', {\n                message: error.message,\n                details: error.details,\n                hint: error.hint,\n                code: error.code\n            });\n            throw error;\n        }\n        console.log('Game successfully added:', data);\n        return data;\n    },\n    // Update game\n    async updateGame (id, updates) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('games').update(updates).eq('id', id).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Delete game\n    async deleteGame (id) {\n        try {\n            console.log('Starting deletion process for game:', id);\n            // First, get the game data to access file URLs - select all columns we might need\n            const { data: gameData, error: fetchError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('games').select('*').eq('id', id).single();\n            if (fetchError) {\n                console.error('Error fetching game data for deletion:', fetchError);\n                // If we can't fetch the game, it might not exist, but continue with the deletion attempt\n                if (fetchError.code === 'PGRST116') {\n                    console.log('Game not found, it may have already been deleted');\n                    return; // Game doesn't exist, consider it already deleted\n                }\n            }\n            console.log('Game data for deletion:', gameData);\n            // Collect all file URLs to delete from storage\n            const filesToDelete = [];\n            if (gameData) {\n                // Add main files - check all possible column names that might exist\n                const possibleFileColumns = [\n                    'icon_url',\n                    'image_url',\n                    'thumbnail_url',\n                    'trailer_url',\n                    'primary_video_url'\n                ];\n                for (const column of possibleFileColumns){\n                    if (gameData[column] && typeof gameData[column] === 'string') {\n                        filesToDelete.push(gameData[column]);\n                    }\n                }\n                // Add media files from media_urls array (if it exists)\n                if (gameData.media_urls && Array.isArray(gameData.media_urls)) {\n                    filesToDelete.push(...gameData.media_urls.filter((url)=>url && typeof url === 'string'));\n                }\n            }\n            console.log('Files to delete from storage:', filesToDelete.length, filesToDelete);\n            // Delete files from storage with improved error handling\n            for (const fileUrl of filesToDelete){\n                if (fileUrl && typeof fileUrl === 'string' && fileUrl.trim()) {\n                    try {\n                        let bucket = '';\n                        let fileName = '';\n                        // Handle different URL formats\n                        if (fileUrl.includes('/storage/v1/object/public/')) {\n                            // Supabase public URL format\n                            const urlParts = fileUrl.split('/storage/v1/object/public/');\n                            if (urlParts.length > 1) {\n                                const pathParts = urlParts[1].split('/');\n                                bucket = pathParts[0];\n                                fileName = pathParts.slice(1).join('/');\n                            }\n                        } else if (fileUrl.includes('supabase')) {\n                            // Try to extract from other possible URL formats\n                            const matches = fileUrl.match(/\\/([^\\/]+)\\/([^\\/]+\\.(jpg|jpeg|png|gif|webp|mp4|webm|ogg|mov|avi|mkv))$/i);\n                            if (matches) {\n                                bucket = matches[1];\n                                fileName = matches[2];\n                            }\n                        }\n                        if (bucket && fileName) {\n                            console.log(\"Attempting to delete file: \".concat(fileName, \" from bucket: \").concat(bucket));\n                            const { error: deleteError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.storage.from(bucket).remove([\n                                fileName\n                            ]);\n                            if (deleteError) {\n                                console.error(\"Error deleting file \".concat(fileName, \" from bucket \").concat(bucket, \":\"), deleteError);\n                            // Continue with other deletions even if one fails\n                            } else {\n                                console.log(\"✅ Successfully deleted: \".concat(fileName, \" from \").concat(bucket));\n                            }\n                        } else {\n                            console.warn(\"Could not parse file URL for deletion: \".concat(fileUrl));\n                        }\n                    } catch (storageError) {\n                        console.error('Error processing file URL for deletion:', fileUrl, storageError);\n                    // Continue with other deletions\n                    }\n                }\n            }\n            // Delete the game record from database\n            console.log('Deleting game record from database...');\n            const { error: dbError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('games').delete().eq('id', id);\n            if (dbError) {\n                console.error('Error deleting game from database:', dbError);\n                throw dbError;\n            }\n            console.log('✅ Game deletion completed successfully');\n        } catch (error) {\n            console.error('❌ Error in deleteGame:', error);\n            throw error;\n        }\n    }\n};\n// User notification functions\nconst notificationService = {\n    // Get user's notification preferences for all games\n    async getUserNotifications (userId) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_game_notifications').select('*').eq('user_id', userId).eq('is_enabled', true);\n        if (error) throw error;\n        return data || [];\n    },\n    // Toggle notification for a game\n    async toggleGameNotification (userId, gameId) {\n        // First check if notification exists\n        const { data: existing } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_game_notifications').select('*').eq('user_id', userId).eq('game_id', gameId).single();\n        if (existing) {\n            // Update existing notification\n            const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_game_notifications').update({\n                is_enabled: !existing.is_enabled\n            }).eq('user_id', userId).eq('game_id', gameId);\n            if (error) throw error;\n            return !existing.is_enabled;\n        } else {\n            // Create new notification\n            const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_game_notifications').insert([\n                {\n                    user_id: userId,\n                    game_id: gameId,\n                    notification_type: 'release_date',\n                    is_enabled: true\n                }\n            ]);\n            if (error) throw error;\n            return true;\n        }\n    },\n    // Get notification status for a specific game\n    async getGameNotificationStatus (userId, gameId) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_game_notifications').select('is_enabled').eq('user_id', userId).eq('game_id', gameId).single();\n        if (error) return false;\n        return (data === null || data === void 0 ? void 0 : data.is_enabled) || false;\n    }\n};\n// User profile functions\nconst userService = {\n    // Get user profile\n    async getProfile (userId) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_profiles').select('*').eq('id', userId).single();\n        if (error) return null;\n        return data;\n    },\n    // Create or update user profile\n    async upsertProfile (profile) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_profiles').upsert([\n            profile\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Get user preferences\n    async getPreferences (userId) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_preferences').select('*').eq('user_id', userId).single();\n        if (error) return null;\n        return data;\n    },\n    // Update user preferences\n    async updatePreferences (userId, preferences) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from('user_preferences').upsert([\n            {\n                ...preferences,\n                user_id: userId\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    }\n};\n// Authentication functions\nconst authService = {\n    // Get current user\n    async getCurrentUser () {\n        const { data: { user }, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n        if (error) throw error;\n        return user;\n    },\n    // Sign up with email\n    async signUp (email, password) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signUp({\n            email,\n            password\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Sign in with email\n    async signIn (email, password) {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Sign out\n    async signOut () {\n        const { error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.signOut();\n        if (error) throw error;\n    },\n    // Listen to auth changes\n    onAuthStateChange (callback) {\n        return _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.onAuthStateChange(callback);\n    }\n};\n// Utility function to convert DB game to app Game type\nfunction dbGameToAppGame(dbGame) {\n    // Map database status to app status\n    const statusMap = {\n        'upcoming': 'Upcoming',\n        'released': 'Upcoming',\n        'delayed': 'Delayed',\n        'cancelled': 'TBA',\n        'tba': 'TBA',\n        'alpha_testing': 'Alpha Testing',\n        'beta_testing': 'Beta Testing'\n    };\n    var _dbGame_has_exact_date;\n    return {\n        id: dbGame.id,\n        title: dbGame.title,\n        developer: dbGame.developer,\n        description: dbGame.description || '',\n        releaseDate: dbGame.release_date || '',\n        hasExactDate: (_dbGame_has_exact_date = dbGame.has_exact_date) !== null && _dbGame_has_exact_date !== void 0 ? _dbGame_has_exact_date : true,\n        approximateReleaseText: dbGame.approximate_release_text || '',\n        animeStyle: dbGame.anime_style || '',\n        genre: dbGame.genre || '',\n        thumbnail: dbGame.image_url || '',\n        icon: dbGame.icon_url || undefined,\n        videoUrl: dbGame.trailer_url || '',\n        status: statusMap[dbGame.status] || 'TBA',\n        links: dbGame.links || undefined,\n        images: dbGame.media_urls || [],\n        youtube_videos: dbGame.youtube_videos || [],\n        tags: [],\n        robloxGameId: '',\n        earlyAccessDate: '',\n        features: [],\n        platforms: [\n            'Roblox'\n        ],\n        notifications: {\n            enabled: true,\n            discord: true,\n            email: true\n        }\n    };\n}\n// Utility function to convert app Game to DB game format\nfunction appGameToDbGame(appGame) {\n    // Map app status to database status\n    const statusMap = {\n        'Alpha Testing': 'alpha_testing',\n        'Beta Testing': 'beta_testing',\n        'Upcoming': 'upcoming',\n        'TBA': 'tba',\n        'Delayed': 'delayed'\n    };\n    var _appGame_hasExactDate;\n    return {\n        title: appGame.title || '',\n        developer: appGame.developer || '',\n        description: appGame.description || null,\n        release_date: appGame.releaseDate || null,\n        has_exact_date: (_appGame_hasExactDate = appGame.hasExactDate) !== null && _appGame_hasExactDate !== void 0 ? _appGame_hasExactDate : true,\n        approximate_release_text: appGame.approximateReleaseText || null,\n        anime_style: appGame.animeStyle || null,\n        genre: appGame.genre || null,\n        image_url: appGame.thumbnail || null,\n        icon_url: appGame.icon || null,\n        trailer_url: appGame.videoUrl || null,\n        media_urls: appGame.images || null,\n        youtube_videos: appGame.youtube_videos || null,\n        anticipation_level: 5,\n        status: statusMap[appGame.status || 'TBA'] || 'tba',\n        links: appGame.links || null\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9zdXBhYmFzZS1zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUM7QUFpRXJDLHlCQUF5QjtBQUNsQixNQUFNQyxjQUFjO0lBQ3pCLGdCQUFnQjtJQUNoQixNQUFNQztRQUNKLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNSiwrQ0FBUUEsQ0FDbkNLLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMsS0FDUEMsS0FBSyxDQUFDLGdCQUFnQjtZQUFFQyxXQUFXO1FBQUs7UUFFM0MsSUFBSUosT0FBTyxNQUFNQTtRQUNqQixPQUFPRCxRQUFRLEVBQUU7SUFDbkI7SUFFQSxzQkFBc0I7SUFDdEIsTUFBTU0sa0JBQWlCQyxNQUFjO1FBQ25DLE1BQU0sRUFBRVAsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNSiwrQ0FBUUEsQ0FDbkNLLElBQUksQ0FBQyxTQUNMQyxNQUFNLENBQUMsS0FDUEssRUFBRSxDQUFDLFVBQVVELFFBQ2JILEtBQUssQ0FBQyxnQkFBZ0I7WUFBRUMsV0FBVztRQUFLO1FBRTNDLElBQUlKLE9BQU8sTUFBTUE7UUFDakIsT0FBT0QsUUFBUSxFQUFFO0lBQ25CO0lBRUEsMkJBQTJCO0lBQzNCLE1BQU1TLHNCQUFxQkMsVUFBa0I7UUFDM0MsTUFBTSxFQUFFVixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1KLCtDQUFRQSxDQUNuQ0ssSUFBSSxDQUFDLFNBQ0xDLE1BQU0sQ0FBQyxLQUNQSyxFQUFFLENBQUMsZUFBZUUsWUFDbEJOLEtBQUssQ0FBQyxnQkFBZ0I7WUFBRUMsV0FBVztRQUFLO1FBRTNDLElBQUlKLE9BQU8sTUFBTUE7UUFDakIsT0FBT0QsUUFBUSxFQUFFO0lBQ25CO0lBRUEsa0NBQWtDO0lBQ2xDLE1BQU1XLFNBQVFDLElBQXFCO1FBQ2pDQyxRQUFRQyxHQUFHLENBQUMsaUNBQWlDRjtRQUU3QyxNQUFNLEVBQUVaLElBQUksRUFB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LG9CQUFvQjtRQUNwQnBILFFBQVFvRixTQUFTLENBQUMrQixRQUFRbkgsTUFBTSxJQUFJLE1BQU0sSUFBSTtRQUM5Q3VHLE9BQU9ZLFFBQVFaLEtBQUssSUFBSTtJQUMxQjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGFybWFuXFxEb3dubG9hZHNcXHJvYmxveC1hbmltZS1jb3VudGRvd25cXGxpYlxcc3VwYWJhc2Utc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4vc3VwYWJhc2UnXG5pbXBvcnQgdHlwZSB7IEdhbWUgfSBmcm9tICcuL3R5cGVzJ1xuXG4vLyBUeXBlcyBmb3Igb3VyIGRhdGFiYXNlXG5leHBvcnQgdHlwZSBEYkdhbWUgPSB7XG4gIGlkOiBzdHJpbmdcbiAgdGl0bGU6IHN0cmluZ1xuICBkZXZlbG9wZXI6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbFxuICByZWxlYXNlX2RhdGU6IHN0cmluZyB8IG51bGxcbiAgaGFzX2V4YWN0X2RhdGU6IGJvb2xlYW4gfCBudWxsXG4gIGFwcHJveGltYXRlX3JlbGVhc2VfdGV4dDogc3RyaW5nIHwgbnVsbFxuICBhbmltZV9zdHlsZTogc3RyaW5nIHwgbnVsbFxuICBnZW5yZTogc3RyaW5nIHwgbnVsbFxuICBpbWFnZV91cmw6IHN0cmluZyB8IG51bGxcbiAgaWNvbl91cmw6IHN0cmluZyB8IG51bGxcbiAgdHJhaWxlcl91cmw6IHN0cmluZyB8IG51bGxcbiAgbWVkaWFfdXJsczogc3RyaW5nW10gfCBudWxsXG4gIGFudGljaXBhdGlvbl9sZXZlbDogbnVtYmVyXG4gIHN0YXR1czogJ3VwY29taW5nJyB8ICdyZWxlYXNlZCcgfCAnZGVsYXllZCcgfCAnY2FuY2VsbGVkJyB8ICd0YmEnIHwgJ2FscGhhX3Rlc3RpbmcnIHwgJ2JldGFfdGVzdGluZydcbiAgbGlua3M6IHtcbiAgICBkaXNjb3JkPzogc3RyaW5nXG4gICAgdHdpdHRlcj86IHN0cmluZ1xuICAgIHJvYmxveD86IHN0cmluZ1xuICAgIHlvdXR1YmU/OiBzdHJpbmdcbiAgICB3ZWJzaXRlPzogc3RyaW5nXG4gICAgaW5zdGFncmFtPzogc3RyaW5nXG4gICAgdGlrdG9rPzogc3RyaW5nXG4gIH0gfCBudWxsXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbiAgeW91dHViZV92aWRlb3M6IHN0cmluZ1tdIHwgbnVsbFxufVxuXG5leHBvcnQgdHlwZSBVc2VyUHJvZmlsZSA9IHtcbiAgaWQ6IHN0cmluZ1xuICBkaXNwbGF5X25hbWU6IHN0cmluZyB8IG51bGxcbiAgYXZhdGFyX3VybDogc3RyaW5nIHwgbnVsbFxuICB0aW1lem9uZTogc3RyaW5nXG4gIGVtYWlsX25vdGlmaWNhdGlvbnM6IGJvb2xlYW5cbiAgcHVzaF9ub3RpZmljYXRpb25zOiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgVXNlckdhbWVOb3RpZmljYXRpb24gPSB7XG4gIGlkOiBzdHJpbmdcbiAgdXNlcl9pZDogc3RyaW5nXG4gIGdhbWVfaWQ6IHN0cmluZ1xuICBub3RpZmljYXRpb25fdHlwZTogJ3JlbGVhc2VfZGF0ZScgfCAndXBkYXRlcycgfCAnYWxsJ1xuICBpc19lbmFibGVkOiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBVc2VyUHJlZmVyZW5jZXMgPSB7XG4gIGlkOiBzdHJpbmdcbiAgdXNlcl9pZDogc3RyaW5nXG4gIHByZWZlcnJlZF9nZW5yZXM6IHN0cmluZ1tdXG4gIHByZWZlcnJlZF9hbmltZV9zdHlsZXM6IHN0cmluZ1tdXG4gIGRlZmF1bHRfc29ydF9vcHRpb246IHN0cmluZ1xuICBzaG93X3JlbGVhc2VkX2dhbWVzOiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuLy8gR2FtZS1yZWxhdGVkIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGdhbWVTZXJ2aWNlID0ge1xuICAvLyBHZXQgYWxsIGdhbWVzXG4gIGFzeW5jIGdldEFsbEdhbWVzKCk6IFByb21pc2U8RGJHYW1lW10+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2dhbWVzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLm9yZGVyKCdyZWxlYXNlX2RhdGUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhIHx8IFtdXG4gIH0sXG5cbiAgLy8gR2V0IGdhbWVzIGJ5IHN0YXR1c1xuICBhc3luYyBnZXRHYW1lc0J5U3RhdHVzKHN0YXR1czogc3RyaW5nKTogUHJvbWlzZTxEYkdhbWVbXT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZ2FtZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ3N0YXR1cycsIHN0YXR1cylcbiAgICAgIC5vcmRlcigncmVsZWFzZV9kYXRlJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YSB8fCBbXVxuICB9LFxuXG4gIC8vIEdldCBnYW1lcyBieSBhbmltZSBzdHlsZVxuICBhc3luYyBnZXRHYW1lc0J5QW5pbWVTdHlsZShhbmltZVN0eWxlOiBzdHJpbmcpOiBQcm9taXNlPERiR2FtZVtdPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdnYW1lcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnYW5pbWVfc3R5bGUnLCBhbmltZVN0eWxlKVxuICAgICAgLm9yZGVyKCdyZWxlYXNlX2RhdGUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhIHx8IFtdXG4gIH0sXG5cbiAgLy8gQWRkIGEgbmV3IGdhbWUgKGFkbWluIGZ1bmN0aW9uKVxuICBhc3luYyBhZGRHYW1lKGdhbWU6IFBhcnRpYWw8RGJHYW1lPik6IFByb21pc2U8RGJHYW1lPiB7XG4gICAgY29uc29sZS5sb2coJ1N1cGFiYXNlIGFkZEdhbWUgY2FsbGVkIHdpdGg6JywgZ2FtZSlcbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2dhbWVzJylcbiAgICAgIC5pbnNlcnQoW2dhbWVdKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLmRldGFpbHMsXG4gICAgICAgIGhpbnQ6IGVycm9yLmhpbnQsXG4gICAgICAgIGNvZGU6IGVycm9yLmNvZGVcbiAgICAgIH0pXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnR2FtZSBzdWNjZXNzZnVsbHkgYWRkZWQ6JywgZGF0YSlcbiAgICByZXR1cm4gZGF0YVxuICB9LFxuXG4gIC8vIFVwZGF0ZSBnYW1lXG4gIGFzeW5jIHVwZGF0ZUdhbWUoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxEYkdhbWU+KTogUHJvbWlzZTxEYkdhbWU+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2dhbWVzJylcbiAgICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfSxcblxuICAvLyBEZWxldGUgZ2FtZVxuICBhc3luYyBkZWxldGVHYW1lKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGRlbGV0aW9uIHByb2Nlc3MgZm9yIGdhbWU6JywgaWQpXG4gICAgICBcbiAgICAgIC8vIEZpcnN0LCBnZXQgdGhlIGdhbWUgZGF0YSB0byBhY2Nlc3MgZmlsZSBVUkxzIC0gc2VsZWN0IGFsbCBjb2x1bW5zIHdlIG1pZ2h0IG5lZWRcbiAgICAgIGNvbnN0IHsgZGF0YTogZ2FtZURhdGEsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnZ2FtZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuc2luZ2xlKClcblxuICAgICAgaWYgKGZldGNoRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZ2FtZSBkYXRhIGZvciBkZWxldGlvbjonLCBmZXRjaEVycm9yKVxuICAgICAgICAvLyBJZiB3ZSBjYW4ndCBmZXRjaCB0aGUgZ2FtZSwgaXQgbWlnaHQgbm90IGV4aXN0LCBidXQgY29udGludWUgd2l0aCB0aGUgZGVsZXRpb24gYXR0ZW1wdFxuICAgICAgICBpZiAoZmV0Y2hFcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgbm90IGZvdW5kLCBpdCBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gZGVsZXRlZCcpXG4gICAgICAgICAgcmV0dXJuIC8vIEdhbWUgZG9lc24ndCBleGlzdCwgY29uc2lkZXIgaXQgYWxyZWFkeSBkZWxldGVkXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ0dhbWUgZGF0YSBmb3IgZGVsZXRpb246JywgZ2FtZURhdGEpXG5cbiAgICAgIC8vIENvbGxlY3QgYWxsIGZpbGUgVVJMcyB0byBkZWxldGUgZnJvbSBzdG9yYWdlXG4gICAgICBjb25zdCBmaWxlc1RvRGVsZXRlOiBzdHJpbmdbXSA9IFtdXG4gICAgICBcbiAgICAgIGlmIChnYW1lRGF0YSkge1xuICAgICAgICAvLyBBZGQgbWFpbiBmaWxlcyAtIGNoZWNrIGFsbCBwb3NzaWJsZSBjb2x1bW4gbmFtZXMgdGhhdCBtaWdodCBleGlzdFxuICAgICAgICBjb25zdCBwb3NzaWJsZUZpbGVDb2x1bW5zID0gW1xuICAgICAgICAgICdpY29uX3VybCcsICdpbWFnZV91cmwnLCAndGh1bWJuYWlsX3VybCcsICd0cmFpbGVyX3VybCcsICdwcmltYXJ5X3ZpZGVvX3VybCdcbiAgICAgICAgXVxuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBjb2x1bW4gb2YgcG9zc2libGVGaWxlQ29sdW1ucykge1xuICAgICAgICAgIGlmIChnYW1lRGF0YVtjb2x1bW5dICYmIHR5cGVvZiBnYW1lRGF0YVtjb2x1bW5dID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZmlsZXNUb0RlbGV0ZS5wdXNoKGdhbWVEYXRhW2NvbHVtbl0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgbWVkaWEgZmlsZXMgZnJvbSBtZWRpYV91cmxzIGFycmF5IChpZiBpdCBleGlzdHMpXG4gICAgICAgIGlmIChnYW1lRGF0YS5tZWRpYV91cmxzICYmIEFycmF5LmlzQXJyYXkoZ2FtZURhdGEubWVkaWFfdXJscykpIHtcbiAgICAgICAgICBmaWxlc1RvRGVsZXRlLnB1c2goLi4uZ2FtZURhdGEubWVkaWFfdXJscy5maWx0ZXIoKHVybDogc3RyaW5nKSA9PiB1cmwgJiYgdHlwZW9mIHVybCA9PT0gJ3N0cmluZycpKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdGaWxlcyB0byBkZWxldGUgZnJvbSBzdG9yYWdlOicsIGZpbGVzVG9EZWxldGUubGVuZ3RoLCBmaWxlc1RvRGVsZXRlKVxuXG4gICAgICAvLyBEZWxldGUgZmlsZXMgZnJvbSBzdG9yYWdlIHdpdGggaW1wcm92ZWQgZXJyb3IgaGFuZGxpbmdcbiAgICAgIGZvciAoY29uc3QgZmlsZVVybCBvZiBmaWxlc1RvRGVsZXRlKSB7XG4gICAgICAgIGlmIChmaWxlVXJsICYmIHR5cGVvZiBmaWxlVXJsID09PSAnc3RyaW5nJyAmJiBmaWxlVXJsLnRyaW0oKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgYnVja2V0ID0gJyc7XG4gICAgICAgICAgICBsZXQgZmlsZU5hbWUgPSAnJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBVUkwgZm9ybWF0c1xuICAgICAgICAgICAgaWYgKGZpbGVVcmwuaW5jbHVkZXMoJy9zdG9yYWdlL3YxL29iamVjdC9wdWJsaWMvJykpIHtcbiAgICAgICAgICAgICAgLy8gU3VwYWJhc2UgcHVibGljIFVSTCBmb3JtYXRcbiAgICAgICAgICAgICAgY29uc3QgdXJsUGFydHMgPSBmaWxlVXJsLnNwbGl0KCcvc3RvcmFnZS92MS9vYmplY3QvcHVibGljLycpXG4gICAgICAgICAgICAgIGlmICh1cmxQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gdXJsUGFydHNbMV0uc3BsaXQoJy8nKVxuICAgICAgICAgICAgICAgIGJ1Y2tldCA9IHBhdGhQYXJ0c1swXVxuICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gcGF0aFBhcnRzLnNsaWNlKDEpLmpvaW4oJy8nKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGVVcmwuaW5jbHVkZXMoJ3N1cGFiYXNlJykpIHtcbiAgICAgICAgICAgICAgLy8gVHJ5IHRvIGV4dHJhY3QgZnJvbSBvdGhlciBwb3NzaWJsZSBVUkwgZm9ybWF0c1xuICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gZmlsZVVybC5tYXRjaCgvXFwvKFteXFwvXSspXFwvKFteXFwvXStcXC4oanBnfGpwZWd8cG5nfGdpZnx3ZWJwfG1wNHx3ZWJtfG9nZ3xtb3Z8YXZpfG1rdikpJC9pKVxuICAgICAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIGJ1Y2tldCA9IG1hdGNoZXNbMV1cbiAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IG1hdGNoZXNbMl1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYnVja2V0ICYmIGZpbGVOYW1lKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0aW5nIHRvIGRlbGV0ZSBmaWxlOiAke2ZpbGVOYW1lfSBmcm9tIGJ1Y2tldDogJHtidWNrZXR9YClcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3I6IGRlbGV0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgLmZyb20oYnVja2V0KVxuICAgICAgICAgICAgICAgIC5yZW1vdmUoW2ZpbGVOYW1lXSlcblxuICAgICAgICAgICAgICBpZiAoZGVsZXRlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBkZWxldGluZyBmaWxlICR7ZmlsZU5hbWV9IGZyb20gYnVja2V0ICR7YnVja2V0fTpgLCBkZWxldGVFcnJvcilcbiAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIG90aGVyIGRlbGV0aW9ucyBldmVuIGlmIG9uZSBmYWlsc1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQ6ICR7ZmlsZU5hbWV9IGZyb20gJHtidWNrZXR9YClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgcGFyc2UgZmlsZSBVUkwgZm9yIGRlbGV0aW9uOiAke2ZpbGVVcmx9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgZmlsZSBVUkwgZm9yIGRlbGV0aW9uOicsIGZpbGVVcmwsIHN0b3JhZ2VFcnJvcilcbiAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggb3RoZXIgZGVsZXRpb25zXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIERlbGV0ZSB0aGUgZ2FtZSByZWNvcmQgZnJvbSBkYXRhYmFzZVxuICAgICAgY29uc29sZS5sb2coJ0RlbGV0aW5nIGdhbWUgcmVjb3JkIGZyb20gZGF0YWJhc2UuLi4nKVxuICAgICAgY29uc3QgeyBlcnJvcjogZGJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2dhbWVzJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgnaWQnLCBpZClcblxuICAgICAgaWYgKGRiRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZ2FtZSBmcm9tIGRhdGFiYXNlOicsIGRiRXJyb3IpXG4gICAgICAgIHRocm93IGRiRXJyb3JcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ+KchSBHYW1lIGRlbGV0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gZGVsZXRlR2FtZTonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59XG5cbi8vIFVzZXIgbm90aWZpY2F0aW9uIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IG5vdGlmaWNhdGlvblNlcnZpY2UgPSB7XG4gIC8vIEdldCB1c2VyJ3Mgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzIGZvciBhbGwgZ2FtZXNcbiAgYXN5bmMgZ2V0VXNlck5vdGlmaWNhdGlvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJHYW1lTm90aWZpY2F0aW9uW10+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfZ2FtZV9ub3RpZmljYXRpb25zJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgLmVxKCdpc19lbmFibGVkJywgdHJ1ZSlcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YSB8fCBbXVxuICB9LFxuXG4gIC8vIFRvZ2dsZSBub3RpZmljYXRpb24gZm9yIGEgZ2FtZVxuICBhc3luYyB0b2dnbGVHYW1lTm90aWZpY2F0aW9uKHVzZXJJZDogc3RyaW5nLCBnYW1lSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIEZpcnN0IGNoZWNrIGlmIG5vdGlmaWNhdGlvbiBleGlzdHNcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfZ2FtZV9ub3RpZmljYXRpb25zJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgLmVxKCdnYW1lX2lkJywgZ2FtZUlkKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBub3RpZmljYXRpb25cbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VyX2dhbWVfbm90aWZpY2F0aW9ucycpXG4gICAgICAgIC51cGRhdGUoeyBpc19lbmFibGVkOiAhZXhpc3RpbmcuaXNfZW5hYmxlZCB9KVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgIC5lcSgnZ2FtZV9pZCcsIGdhbWVJZClcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgICAgcmV0dXJuICFleGlzdGluZy5pc19lbmFibGVkXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgbm90aWZpY2F0aW9uXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcl9nYW1lX25vdGlmaWNhdGlvbnMnKVxuICAgICAgICAuaW5zZXJ0KFt7XG4gICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgIGdhbWVfaWQ6IGdhbWVJZCxcbiAgICAgICAgICBub3RpZmljYXRpb25fdHlwZTogJ3JlbGVhc2VfZGF0ZScsXG4gICAgICAgICAgaXNfZW5hYmxlZDogdHJ1ZVxuICAgICAgICB9XSlcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH0sXG5cbiAgLy8gR2V0IG5vdGlmaWNhdGlvbiBzdGF0dXMgZm9yIGEgc3BlY2lmaWMgZ2FtZVxuICBhc3luYyBnZXRHYW1lTm90aWZpY2F0aW9uU3RhdHVzKHVzZXJJZDogc3RyaW5nLCBnYW1lSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndXNlcl9nYW1lX25vdGlmaWNhdGlvbnMnKVxuICAgICAgLnNlbGVjdCgnaXNfZW5hYmxlZCcpXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAuZXEoJ2dhbWVfaWQnLCBnYW1lSWQpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIGRhdGE/LmlzX2VuYWJsZWQgfHwgZmFsc2VcbiAgfVxufVxuXG4vLyBVc2VyIHByb2ZpbGUgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgdXNlclNlcnZpY2UgPSB7XG4gIC8vIEdldCB1c2VyIHByb2ZpbGVcbiAgYXN5bmMgZ2V0UHJvZmlsZSh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlclByb2ZpbGUgfCBudWxsPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBkYXRhXG4gIH0sXG5cbiAgLy8gQ3JlYXRlIG9yIHVwZGF0ZSB1c2VyIHByb2ZpbGVcbiAgYXN5bmMgdXBzZXJ0UHJvZmlsZShwcm9maWxlOiBQYXJ0aWFsPFVzZXJQcm9maWxlPik6IFByb21pc2U8VXNlclByb2ZpbGU+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgLnVwc2VydChbcHJvZmlsZV0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhXG4gIH0sXG5cbiAgLy8gR2V0IHVzZXIgcHJlZmVyZW5jZXNcbiAgYXN5bmMgZ2V0UHJlZmVyZW5jZXModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJQcmVmZXJlbmNlcyB8IG51bGw+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfcHJlZmVyZW5jZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gZGF0YVxuICB9LFxuXG4gIC8vIFVwZGF0ZSB1c2VyIHByZWZlcmVuY2VzXG4gIGFzeW5jIHVwZGF0ZVByZWZlcmVuY2VzKHVzZXJJZDogc3RyaW5nLCBwcmVmZXJlbmNlczogUGFydGlhbDxVc2VyUHJlZmVyZW5jZXM+KTogUHJvbWlzZTxVc2VyUHJlZmVyZW5jZXM+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJfcHJlZmVyZW5jZXMnKVxuICAgICAgLnVwc2VydChbeyAuLi5wcmVmZXJlbmNlcywgdXNlcl9pZDogdXNlcklkIH1dKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9XG59XG5cbi8vIEF1dGhlbnRpY2F0aW9uIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IGF1dGhTZXJ2aWNlID0ge1xuICAvLyBHZXQgY3VycmVudCB1c2VyXG4gIGFzeW5jIGdldEN1cnJlbnRVc2VyKCkge1xuICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gdXNlclxuICB9LFxuXG4gIC8vIFNpZ24gdXAgd2l0aCBlbWFpbFxuICBhc3luYyBzaWduVXAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgfSlcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfSxcblxuICAvLyBTaWduIGluIHdpdGggZW1haWxcbiAgYXN5bmMgc2lnbkluKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgIH0pXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhXG4gIH0sXG5cbiAgLy8gU2lnbiBvdXRcbiAgYXN5bmMgc2lnbk91dCgpIHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKVxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgfSxcblxuICAvLyBMaXN0ZW4gdG8gYXV0aCBjaGFuZ2VzXG4gIG9uQXV0aFN0YXRlQ2hhbmdlKGNhbGxiYWNrOiAoZXZlbnQ6IHN0cmluZywgc2Vzc2lvbjogYW55KSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIHN1cGFiYXNlLmF1dGgub25BdXRoU3RhdGVDaGFuZ2UoY2FsbGJhY2spXG4gIH1cbn1cblxuLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IERCIGdhbWUgdG8gYXBwIEdhbWUgdHlwZVxuZXhwb3J0IGZ1bmN0aW9uIGRiR2FtZVRvQXBwR2FtZShkYkdhbWU6IERiR2FtZSk6IEdhbWUge1xuICAvLyBNYXAgZGF0YWJhc2Ugc3RhdHVzIHRvIGFwcCBzdGF0dXNcbiAgY29uc3Qgc3RhdHVzTWFwOiBSZWNvcmQ8c3RyaW5nLCBHYW1lWydzdGF0dXMnXT4gPSB7XG4gICAgJ3VwY29taW5nJzogJ1VwY29taW5nJyxcbiAgICAncmVsZWFzZWQnOiAnVXBjb21pbmcnLCAvLyBNYXAgcmVsZWFzZWQgdG8gdXBjb21pbmcgc2luY2Ugd2UgZG9uJ3QgaGF2ZSByZWxlYXNlZCBzdGF0dXMgYW55bW9yZVxuICAgICdkZWxheWVkJzogJ0RlbGF5ZWQnLFxuICAgICdjYW5jZWxsZWQnOiAnVEJBJyxcbiAgICAndGJhJzogJ1RCQScsXG4gICAgJ2FscGhhX3Rlc3RpbmcnOiAnQWxwaGEgVGVzdGluZycsXG4gICAgJ2JldGFfdGVzdGluZyc6ICdCZXRhIFRlc3RpbmcnXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlkOiBkYkdhbWUuaWQsXG4gICAgdGl0bGU6IGRiR2FtZS50aXRsZSxcbiAgICBkZXZlbG9wZXI6IGRiR2FtZS5kZXZlbG9wZXIsXG4gICAgZGVzY3JpcHRpb246IGRiR2FtZS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICByZWxlYXNlRGF0ZTogZGJHYW1lLnJlbGVhc2VfZGF0ZSB8fCAnJyxcbiAgICBoYXNFeGFjdERhdGU6IGRiR2FtZS5oYXNfZXhhY3RfZGF0ZSA/PyB0cnVlLCAvLyBEZWZhdWx0IHRvIHRydWUgaWYgbnVsbFxuICAgIGFwcHJveGltYXRlUmVsZWFzZVRleHQ6IGRiR2FtZS5hcHByb3hpbWF0ZV9yZWxlYXNlX3RleHQgfHwgJycsXG4gICAgYW5pbWVTdHlsZTogZGJHYW1lLmFuaW1lX3N0eWxlIHx8ICcnLFxuICAgIGdlbnJlOiBkYkdhbWUuZ2VucmUgfHwgJycsXG4gICAgdGh1bWJuYWlsOiBkYkdhbWUuaW1hZ2VfdXJsIHx8ICcnLCAvLyBNYXAgaW1hZ2VfdXJsIHRvIHRodW1ibmFpbFxuICAgIGljb246IGRiR2FtZS5pY29uX3VybCB8fCB1bmRlZmluZWQsIC8vIE1hcCBpY29uX3VybCB0byBpY29uXG4gICAgdmlkZW9Vcmw6IGRiR2FtZS50cmFpbGVyX3VybCB8fCAnJyxcbiAgICBzdGF0dXM6IHN0YXR1c01hcFtkYkdhbWUuc3RhdHVzXSB8fCAnVEJBJywgLy8gRGVmYXVsdCB0byBUQkEgaW5zdGVhZCBvZiBVcGNvbWluZ1xuICAgIGxpbmtzOiBkYkdhbWUubGlua3MgfHwgdW5kZWZpbmVkLFxuICAgIGltYWdlczogZGJHYW1lLm1lZGlhX3VybHMgfHwgW10sXG4gICAgeW91dHViZV92aWRlb3M6IGRiR2FtZS55b3V0dWJlX3ZpZGVvcyB8fCBbXSxcbiAgICB0YWdzOiBbXSxcbiAgICByb2Jsb3hHYW1lSWQ6ICcnLFxuICAgIGVhcmx5QWNjZXNzRGF0ZTogJycsXG4gICAgZmVhdHVyZXM6IFtdLFxuICAgIHBsYXRmb3JtczogWydSb2Jsb3gnXSxcbiAgICBub3RpZmljYXRpb25zOiB7XG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgZGlzY29yZDogdHJ1ZSxcbiAgICAgIGVtYWlsOiB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gY29udmVydCBhcHAgR2FtZSB0byBEQiBnYW1lIGZvcm1hdFxuZXhwb3J0IGZ1bmN0aW9uIGFwcEdhbWVUb0RiR2FtZShhcHBHYW1lOiBHYW1lKTogUGFydGlhbDxEYkdhbWU+IHtcbiAgLy8gTWFwIGFwcCBzdGF0dXMgdG8gZGF0YWJhc2Ugc3RhdHVzXG4gIGNvbnN0IHN0YXR1c01hcDogUmVjb3JkPHN0cmluZywgRGJHYW1lWydzdGF0dXMnXT4gPSB7XG4gICAgJ0FscGhhIFRlc3RpbmcnOiAnYWxwaGFfdGVzdGluZycsXG4gICAgJ0JldGEgVGVzdGluZyc6ICdiZXRhX3Rlc3RpbmcnLFxuICAgICdVcGNvbWluZyc6ICd1cGNvbWluZycsXG4gICAgJ1RCQSc6ICd0YmEnLFxuICAgICdEZWxheWVkJzogJ2RlbGF5ZWQnXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRpdGxlOiBhcHBHYW1lLnRpdGxlIHx8ICcnLFxuICAgIGRldmVsb3BlcjogYXBwR2FtZS5kZXZlbG9wZXIgfHwgJycsXG4gICAgZGVzY3JpcHRpb246IGFwcEdhbWUuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICByZWxlYXNlX2RhdGU6IGFwcEdhbWUucmVsZWFzZURhdGUgfHwgbnVsbCxcbiAgICBoYXNfZXhhY3RfZGF0ZTogYXBwR2FtZS5oYXNFeGFjdERhdGUgPz8gdHJ1ZSwgLy8gRGVmYXVsdCB0byB0cnVlIGlmIHVuZGVmaW5lZFxuICAgIGFwcHJveGltYXRlX3JlbGVhc2VfdGV4dDogYXBwR2FtZS5hcHByb3hpbWF0ZVJlbGVhc2VUZXh0IHx8IG51bGwsXG4gICAgYW5pbWVfc3R5bGU6IGFwcEdhbWUuYW5pbWVTdHlsZSB8fCBudWxsLFxuICAgIGdlbnJlOiBhcHBHYW1lLmdlbnJlIHx8IG51bGwsXG4gICAgaW1hZ2VfdXJsOiBhcHBHYW1lLnRodW1ibmFpbCB8fCBudWxsLFxuICAgIGljb25fdXJsOiBhcHBHYW1lLmljb24gfHwgbnVsbCxcbiAgICB0cmFpbGVyX3VybDogYXBwR2FtZS52aWRlb1VybCB8fCBudWxsLFxuICAgIG1lZGlhX3VybHM6IGFwcEdhbWUuaW1hZ2VzIHx8IG51bGwsIC8vIFN0b3JlIGltYWdlcyBhcnJheSBhcyBtZWRpYV91cmxzXG4gICAgeW91dHViZV92aWRlb3M6IGFwcEdhbWUueW91dHViZV92aWRlb3MgfHwgbnVsbCxcbiAgICBhbnRpY2lwYXRpb25fbGV2ZWw6IDUsIC8vIERlZmF1bHQgdmFsdWUgZm9yIGRhdGFiYXNlXG4gICAgc3RhdHVzOiBzdGF0dXNNYXBbYXBwR2FtZS5zdGF0dXMgfHwgJ1RCQSddIHx8ICd0YmEnLCAvLyBEZWZhdWx0IHRvIHRiYSBpbnN0ZWFkIG9mIHVwY29taW5nXG4gICAgbGlua3M6IGFwcEdhbWUubGlua3MgfHwgbnVsbFxuICB9XG59ICJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImdhbWVTZXJ2aWNlIiwiZ2V0QWxsR2FtZXMiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJnZXRHYW1lc0J5U3RhdHVzIiwic3RhdHVzIiwiZXEiLCJnZXRHYW1lc0J5QW5pbWVTdHlsZSIsImFuaW1lU3R5bGUiLCJhZGRHYW1lIiwiZ2FtZSIsImNvbnNvbGUiLCJsb2ciLCJpbnNlcnQiLCJzaW5nbGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsImhpbnQiLCJjb2RlIiwidXBkYXRlR2FtZSIsImlkIiwidXBkYXRlcyIsInVwZGF0ZSIsImRlbGV0ZUdhbWUiLCJnYW1lRGF0YSIsImZldGNoRXJyb3IiLCJmaWxlc1RvRGVsZXRlIiwicG9zc2libGVGaWxlQ29sdW1ucyIsImNvbHVtbiIsInB1c2giLCJtZWRpYV91cmxzIiwiQXJyYXkiLCJpc0FycmF5IiwiZmlsdGVyIiwidXJsIiwibGVuZ3RoIiwiZmlsZVVybCIsInRyaW0iLCJidWNrZXQiLCJmaWxlTmFtZSIsImluY2x1ZGVzIiwidXJsUGFydHMiLCJzcGxpdCIsInBhdGhQYXJ0cyIsInNsaWNlIiwiam9pbiIsIm1hdGNoZXMiLCJtYXRjaCIsImRlbGV0ZUVycm9yIiwic3RvcmFnZSIsInJlbW92ZSIsIndhcm4iLCJzdG9yYWdlRXJyb3IiLCJkYkVycm9yIiwiZGVsZXRlIiwibm90aWZpY2F0aW9uU2VydmljZSIsImdldFVzZXJOb3RpZmljYXRpb25zIiwidXNlcklkIiwidG9nZ2xlR2FtZU5vdGlmaWNhdGlvbiIsImdhbWVJZCIsImV4aXN0aW5nIiwiaXNfZW5hYmxlZCIsInVzZXJfaWQiLCJnYW1lX2lkIiwibm90aWZpY2F0aW9uX3R5cGUiLCJnZXRHYW1lTm90aWZpY2F0aW9uU3RhdHVzIiwidXNlclNlcnZpY2UiLCJnZXRQcm9maWxlIiwidXBzZXJ0UHJvZmlsZSIsInByb2ZpbGUiLCJ1cHNlcnQiLCJnZXRQcmVmZXJlbmNlcyIsInVwZGF0ZVByZWZlcmVuY2VzIiwicHJlZmVyZW5jZXMiLCJhdXRoU2VydmljZSIsImdldEN1cnJlbnRVc2VyIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwic2lnblVwIiwiZW1haWwiLCJwYXNzd29yZCIsInNpZ25JbiIsInNpZ25JbldpdGhQYXNzd29yZCIsInNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZSIsImNhbGxiYWNrIiwiZGJHYW1lVG9BcHBHYW1lIiwiZGJHYW1lIiwic3RhdHVzTWFwIiwidGl0bGUiLCJkZXZlbG9wZXIiLCJkZXNjcmlwdGlvbiIsInJlbGVhc2VEYXRlIiwicmVsZWFzZV9kYXRlIiwiaGFzRXhhY3REYXRlIiwiaGFzX2V4YWN0X2RhdGUiLCJhcHByb3hpbWF0ZVJlbGVhc2VUZXh0IiwiYXBwcm94aW1hdGVfcmVsZWFzZV90ZXh0IiwiYW5pbWVfc3R5bGUiLCJnZW5yZSIsInRodW1ibmFpbCIsImltYWdlX3VybCIsImljb24iLCJpY29uX3VybCIsInVuZGVmaW5lZCIsInZpZGVvVXJsIiwidHJhaWxlcl91cmwiLCJsaW5rcyIsImltYWdlcyIsInlvdXR1YmVfdmlkZW9zIiwidGFncyIsInJvYmxveEdhbWVJZCIsImVhcmx5QWNjZXNzRGF0ZSIsImZlYXR1cmVzIiwicGxhdGZvcm1zIiwibm90aWZpY2F0aW9ucyIsImVuYWJsZWQiLCJkaXNjb3JkIiwiYXBwR2FtZVRvRGJHYW1lIiwiYXBwR2FtZSIsImFudGljaXBhdGlvbl9sZXZlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/supabase-service.ts\n"));

/***/ })

});